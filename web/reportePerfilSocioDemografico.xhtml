<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"     
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:ui="http://java.sun.com/jsf/facelets">
    
    
    <h:body>
        <ui:composition>
            <h:form id="reportePerfilSocio">
               <p:growl id="aviso" showDetail="true" life="5000" />
                <p:panel header="REPORTE PERFIL SOCIODEMOGRAFICO" id="pnlPerfilSocio"  
                         style="width:auto;">
                    <table>
                        <tr><td>                            
                                <table cellpadding="5">                        
                                    <tr>
                                        <td align="center">
                                            <p:panelGrid id="tblPerfilSocio" columns="10" style="width:1030px; font-size: 90%;">
                                                <f:facet name="header">
                                                    <h:outputText value="" />
                                                </f:facet>     
                                                <h:outputText value="Empresa:" style="font-weight: bold;" /><h:outputText value="#{loginBean.sesion.usuario.subEmpresa.empresa.nombre}" />                                                         
                                                
                                                
                                                Empresa:<p:selectOneMenu value="#{listasBean.empresa.nitempresa}" id="empresas">}
                                                <f:selectItem itemLabel="Seleccione..." itemValue="" />                                                
                                                <f:selectItems   value="#{listasBean.itemsEmpresas}"/>  
                                                <p:ajax update="subempresas" />
                                                </p:selectOneMenu>
                                                                                  
                                                SubEmpresa:<p:selectOneMenu value="#{listasBean.subempresa.nitsubempresa}" id="subempresas">}
                                                <f:selectItem itemLabel="Seleccione..." itemValue="" />                                                  	
                                                <f:selectItems   value="#{listasBean.itemsSubEmpresas}"/>
                                                </p:selectOneMenu>
                                                
                                            </p:panelGrid>
                                            
                                        </td>
                                    </tr>
                                </table>
                            
                            <p:fieldset style= "margin-top:10px;" >    
                                <p:dataTable id="tblPerfilSocioDemografico" var="varPerfil" value="#{empleadoBean.perfilSocioList}"  style ="width: 1200px;font-size: 12px"                                              
                                             paginator="true" rows="10" scrollWidth="100%" scrollable="true" >                       
                                    <p:column headerText="Cedula" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.cedula}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Empresa" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.subempresa.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>                                    
                                    <p:column headerText="Nombres" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.nombres}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Apellidos" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.apellidos}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Nivel Escolar" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.nescolar.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Numero Personas a Cargo" style="width: 80px">
                                        <h:outputText value="#{varPerfil.numPersonas.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Tendencia Vivienda" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.tendenciaVivienda.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>  
                                    <p:column headerText="Uso Tiempo Libre" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.usoTiempoLibre.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>                    
                                    <p:column headerText="Promedio Ingresos" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.promedioIngreso.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Antiguedad Empresa" style="width: 50px; font-size: 10px">
                                        <h:outputText value="#{varPerfil.antiguedadEmpresa.nombre}" />
                                    </p:column>
                                    <p:column id="tote" headerText="Antiguedad Cargo" style="width: 50px; font-size: 10px"   >
                                        <h:outputText value="#{varPerfil.antiguedadCargo.nombre}" style="width: 50px; font-size: 10px" />                                        
                                    </p:column>
                                    <p:column headerText="Tipo Contrato" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.tipoContratacion.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Participacion Actividades" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.participaActividades.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                    <p:column headerText="Fuma" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.fuma ? 'SI':'NO'}" style="width: 5px; font-size: 10px"/>
                                    </p:column>
                                    <p:column headerText="Promedio Fuma" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.promedioFuma != null ? varPerfil.promedioFuma : '-'}" style="width: 50px; font-size: 10px" />
                                    </p:column>
                                    <p:column headerText="Diagnosticado Enfermedad" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.diagnosticadoEnfermidad ? 'SI':'NO'}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                    <p:column headerText="Enfermedad" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.enfermedad}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                    <p:column headerText="Practica Deporte" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.practicaAlgunDeporte ? 'SI':'NO'}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                    <p:column headerText="Deporte" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.deportePractica}" style="width: 50px; font-size: 10px"  />
                                    </p:column> 
                                    <p:column headerText="Consume Alcohol" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.consumoBebidasAlcoholicas.nombre}" style="width: 50px; font-size: 10px"  />
                                    </p:column> 
                                    <p:column headerText="Frecuencia Alcohol" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.consumoBebidasAlcoholicas.nombre}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                    <p:column headerText="Frecuencia Deporte" style="width: 50px; font-size: 10px" >
                                        <h:outputText value="#{varPerfil.frecuenciaDeportePractica}" style="width: 50px; font-size: 10px" />
                                    </p:column> 
                                </p:dataTable>                              
                            </p:fieldset>
                                
                                
                            <p:fieldset style= "margin-top:10px;" >                                    
                                <p:commandButton icon="ui-icon-newwin" update="aviso, tblPerfilSocioDemografico" type="submit" id="BtnInf" value="Generar" 
                                                 actionListener="#{empleadoBean.cargarPerfilSocioDemograficoList()}"/>
                                
                                <h:commandButton value="CSV Export" image="resources/imagenes/csv.png" style="float:right;">
                                    <p:dataExporter type="csv" target="tblPerfilSocioDemografico" fileName="PerfilSocioDemografico" />
                                </h:commandButton>
                                
                            </p:fieldset>
                           </td>
                        </tr>
                        
                            <tr> 
                                <td> 
                                    
                                </td>                                
                            </tr>    
                    </table>                   
                </p:panel>                                                
            </h:form>
        </ui:composition>
    </h:body>


</html>